<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#0f172a">
    <title>CognOS v0.2 - AI-Native MindShell</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="manifest" href="/manifest.json">
    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #8b5cf6;
            --accent: #06b6d4;
            --bg: #0f172a;
            --card: rgba(30, 41, 59, 0.8);
            --card-border: rgba(99, 102, 241, 0.3);
            --text: #f1f5f9;
            --text-secondary: #94a3b8;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --glass: rgba(15, 23, 42, 0.7);
            --blur: blur(16px);
            --transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
        }

        body {
            background: radial-gradient(ellipse at top, var(--bg) 0%, #0c1424 100%);
            color: var(--text);
            min-height: 100vh;
            overflow-x: hidden;
            padding-bottom: 80px;
            line-height: 1.6;
        }

        /* Glassmorphism effect */
        .glass {
            background: var(--glass);
            backdrop-filter: var(--blur);
            -webkit-backdrop-filter: var(--blur);
            border: 1px solid var(--card-border);
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(2, 8, 20, 0.4);
            transition: var(--transition);
        }

        /* Header */
        .header {
            position: sticky;
            top: 0;
            z-index: 100;
            padding: 16px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(15, 23, 42, 0.95);
            border-bottom: 1px solid rgba(99, 102, 241, 0.1);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 700;
            font-size: 1.5rem;
            letter-spacing: -0.5px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .logo-icon {
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            width: 40px;
            height: 40px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: white;
        }

        .nav-icons {
            display: flex;
            gap: 16px;
        }

        .nav-icon {
            width: 40px;
            height: 40px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(30, 41, 59, 0.6);
            cursor: pointer;
            transition: var(--transition);
        }

        .nav-icon:hover {
            background: rgba(99, 102, 241, 0.2);
            transform: translateY(-2px);
        }

        /* Main layout */
        .app-container {
            max-width: 100%;
            padding: 0 16px;
            margin: 0 auto;
        }

        /* Tab navigation */
        .tabs {
            display: flex;
            gap: 8px;
            padding: 16px 0;
            overflow-x: auto;
            scrollbar-width: none;
        }

        .tabs::-webkit-scrollbar {
            display: none;
        }

        .tab {
            padding: 12px 20px;
            border-radius: 14px;
            background: rgba(30, 41, 59, 0.6);
            font-weight: 500;
            font-size: 0.95rem;
            white-space: nowrap;
            cursor: pointer;
            transition: var(--transition);
        }

        .tab.active {
            background: linear-gradient(45deg, var(--primary), var(--primary-dark));
        }

        /* Chat container */
        .chat-container {
            display: flex;
            flex-direction: column;
            height: 60vh;
            margin-bottom: 20px;
            border-radius: 20px;
            overflow: hidden;
        }

        .chat-header {
            padding: 18px;
            border-bottom: 1px solid rgba(99, 102, 241, 0.2);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 12px;
            background: rgba(15, 23, 42, 0.7);
        }

        .ai-indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--success);
            box-shadow: 0 0 10px var(--success);
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px 18px;
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        .message {
            max-width: 85%;
            padding: 16px 20px;
            border-radius: 20px;
            line-height: 1.6;
            animation: fadeIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            position: relative;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .user-message {
            background: linear-gradient(45deg, var(--primary), var(--primary-dark));
            align-self: flex-end;
            border-bottom-right-radius: 8px;
        }

        .ai-message {
            background: var(--card);
            align-self: flex-start;
            border-bottom-left-radius: 8px;
        }

        .message-tag {
            position: absolute;
            top: -10px;
            right: 12px;
            background: var(--secondary);
            font-size: 0.75rem;
            padding: 4px 12px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            gap: 6px;
            cursor: pointer;
            transition: var(--transition);
        }

        .message-tag:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(139, 92, 246, 0.3);
        }

        /* Chat input */
        .chat-input-container {
            position: sticky;
            bottom: 0;
            padding: 16px;
            background: rgba(15, 23, 42, 0.95);
            border-top: 1px solid rgba(99, 102, 241, 0.1);
        }

        .chat-input {
            display: flex;
            gap: 12px;
        }

        .chat-input input {
            flex: 1;
            padding: 16px 22px;
            border-radius: 50px;
            border: 1px solid rgba(99, 102, 241, 0.3);
            background: rgba(30, 41, 59, 0.8);
            color: var(--text);
            font-size: 1rem;
            outline: none;
            transition: var(--transition);
        }

        .chat-input input:focus {
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(6, 182, 212, 0.2);
        }

        .send-btn {
            background: linear-gradient(45deg, var(--accent), #0ea5e9);
            border: none;
            width: 54px;
            height: 54px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 4px 15px rgba(6, 182, 212, 0.3);
        }

        .send-btn:hover {
            transform: scale(1.05) rotate(5deg);
            box-shadow: 0 6px 20px rgba(6, 182, 212, 0.4);
        }

        /* Mind Zones */
        .zones-container {
            padding: 16px;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .section-title {
            font-size: 1.4rem;
            font-weight: 700;
            background: linear-gradient(90deg, var(--text), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .zones-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
        }

        .zone-card {
            padding: 24px 16px;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            transition: var(--transition);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .zone-card::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), transparent);
            opacity: 0;
            transition: var(--transition);
        }

        .zone-card:hover {
            transform: translateY(-5px);
        }

        .zone-card:hover::before {
            opacity: 1;
        }

        .zone-icon {
            font-size: 2.2rem;
            margin-bottom: 14px;
            text-shadow: 0 4px 12px rgba(255, 255, 255, 0.2);
        }

        .zone-title {
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 1.1rem;
        }

        .zone-count {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        /* Goal Tracker */
        .goal-tracker-btn {
            position: fixed;
            bottom: 100px;
            right: 20px;
            width: 64px;
            height: 64px;
            border-radius: 50%;
            background: linear-gradient(45deg, var(--warning), #f97316);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            cursor: pointer;
            z-index: 90;
            box-shadow: 0 6px 24px rgba(245, 158, 11, 0.4);
            animation: pulse 2s infinite;
            transition: var(--transition);
        }

        .goal-tracker-btn:hover {
            transform: scale(1.1) rotate(10deg);
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(245, 158, 11, 0.5); }
            70% { box-shadow: 0 0 0 16px rgba(245, 158, 11, 0); }
            100% { box-shadow: 0 0 0 0 rgba(245, 158, 11, 0); }
        }

        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(2, 6, 23, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
            backdrop-filter: blur(12px);
        }

        .modal.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            width: 90%;
            max-width: 500px;
            padding: 30px;
            border-radius: 24px;
            background: linear-gradient(145deg, rgba(30, 41, 59, 0.9), rgba(15, 23, 42, 0.95));
            border: 1px solid rgba(99, 102, 241, 0.3);
            box-shadow: 0 20px 50px rgba(2, 8, 20, 0.6);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .modal-title {
            font-size: 1.6rem;
            font-weight: 700;
            background: linear-gradient(90deg, var(--warning), #f97316);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .close-btn {
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 1.8rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .close-btn:hover {
            color: var(--text);
            transform: rotate(90deg);
        }

        .goal-input {
            width: 100%;
            padding: 16px 22px;
            border-radius: 14px;
            border: 1px solid var(--card-border);
            background: rgba(15, 23, 42, 0.7);
            color: var(--text);
            font-size: 1.1rem;
            margin-bottom: 24px;
            outline: none;
            transition: var(--transition);
        }

        .goal-input:focus {
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(6, 182, 212, 0.2);
        }

        .steps-container {
            background: rgba(15, 23, 42, 0.6);
            border-radius: 16px;
            padding: 20px;
            margin-top: 20px;
            border: 1px solid rgba(99, 102, 241, 0.2);
        }

        .step-item {
            display: flex;
            align-items: center;
            padding: 14px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.08);
        }

        .step-item:last-child {
            border-bottom: none;
        }

        .step-checkbox {
            margin-right: 16px;
            width: 22px;
            height: 22px;
            accent-color: var(--success);
            cursor: pointer;
        }

        .step-text {
            flex: 1;
        }

        /* Memory timeline */
        .timeline-container {
            margin-top: 30px;
            padding: 16px;
        }

        .timeline-list {
            display: flex;
            flex-direction: column;
            gap: 14px;
        }

        .timeline-item {
            padding: 18px;
            border-radius: 18px;
            display: flex;
            gap: 16px;
            align-items: flex-start;
            background: rgba(30, 41, 59, 0.6);
            border: 1px solid rgba(99, 102, 241, 0.15);
            transition: var(--transition);
        }

        .timeline-item:hover {
            transform: translateX(5px);
            border-color: rgba(99, 102, 241, 0.3);
        }

        .timeline-date {
            font-size: 0.85rem;
            color: var(--accent);
            min-width: 90px;
            font-weight: 500;
        }

        .timeline-content {
            flex: 1;
        }

        /* Innovation features */
        .mindmap-preview {
            padding: 24px;
            margin: 30px 16px;
            border-radius: 24px;
            background: linear-gradient(145deg, rgba(30, 41, 59, 0.7), rgba(15, 23, 42, 0.8));
            border: 1px solid rgba(99, 102, 241, 0.2);
            position: relative;
            overflow: hidden;
        }

        .mindmap-title {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .mindmap-canvas {
            height: 200px;
            background: rgba(15, 23, 42, 0.4);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .mindmap-canvas::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, rgba(139, 92, 246, 0.1), transparent 70%);
        }

        .node {
            position: absolute;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--card);
            border: 2px solid var(--primary);
            z-index: 2;
        }

        .node-main {
            width: 60px;
            height: 60px;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            font-weight: 700;
        }

        .node-1 { top: 30%; left: 20%; background: rgba(16, 185, 129, 0.2); border-color: var(--success); }
        .node-2 { top: 60%; left: 30%; background: rgba(245, 158, 11, 0.2); border-color: var(--warning); }
        .node-3 { top: 40%; left: 50%; background: rgba(239, 68, 68, 0.2); border-color: var(--danger); }
        .node-4 { top: 20%; left: 70%; background: rgba(6, 182, 212, 0.2); border-color: var(--accent); }

        .connection {
            position: absolute;
            background: rgba(99, 102, 241, 0.4);
            z-index: 1;
        }

        /* Responsive design */
        @media (min-width: 768px) {
            .app-container {
                max-width: 800px;
            }
            
            .zones-grid {
                grid-template-columns: repeat(5, 1fr);
            }
            
            .chat-container {
                height: 65vh;
            }
        }

        /* Utility classes */
        .btn {
            padding: 12px 28px;
            border-radius: 50px;
            background: linear-gradient(45deg, var(--primary), var(--primary-dark));
            border: none;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            font-size: 1rem;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(99, 102, 241, 0.4);
        }

        .tag-selector {
            position: absolute;
            bottom: -12px;
            right: 10px;
            background: var(--card);
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            gap: 6px;
            cursor: pointer;
            border: 1px solid var(--card-border);
            transition: var(--transition);
        }

        .tag-selector:hover {
            background: rgba(99, 102, 241, 0.2);
            transform: translateY(-2px);
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }
        
        .typing-indicator {
            display: flex;
            padding: 12px 18px;
        }
        
        .typing-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: var(--text-secondary);
            margin: 0 3px;
            animation: typing 1.4s infinite ease-in-out;
        }
        
        .typing-dot:nth-child(1) { animation-delay: 0s; }
        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }
        
        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-6px); }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="logo">
            <div class="logo-icon">C</div>
            <span>CognOS v0.2</span>
        </div>
        <div class="nav-icons">
            <div class="nav-icon">
                <i class="fas fa-search"></i>
            </div>
            <div class="nav-icon">
                <i class="fas fa-cog"></i>
            </div>
            <div class="nav-icon">
                <i class="fas fa-user"></i>
            </div>
        </div>
    </div>

    <div class="app-container">
        <!-- Tab Navigation -->
        <div class="tabs">
            <div class="tab active">MindChat</div>
            <div class="tab">Zones</div>
            <div class="tab">Timeline</div>
            <div class="tab">MindMap</div>
            <div class="tab">Analytics</div>
        </div>

        <!-- Chat Interface -->
        <div class="chat-container glass">
            <div class="chat-header">
                <div class="ai-indicator"></div>
                <div>NeuroAssistant</div>
                <div style="margin-left: auto; font-size: 0.9rem; color: var(--accent);">Context Aware</div>
            </div>
            <div class="chat-messages" id="chat-messages">
                <div class="message ai-message">
                    Welcome to CognOS MindShell! I'm your NeuroAssistant, ready to help you organize thoughts, set goals, and unlock your potential. How can I assist you today?
                    <div class="tag-selector">
                        <span>🤖 System</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Chat Input -->
        <div class="chat-input-container">
            <div class="chat-input">
                <input type="text" id="user-input" placeholder="Message NeuroAssistant...">
                <button class="send-btn" id="send-btn">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>

        <!-- Mind Zones -->
        <div class="zones-container">
            <div class="section-header">
                <div class="section-title">Semantic Mind Zones</div>
                <div class="view-all">View All</div>
            </div>
            <div class="zones-grid">
                <div class="zone-card glass" data-zone="ideas">
                    <div class="zone-icon">💡</div>
                    <div class="zone-title">Ideas</div>
                    <div class="zone-count">12 entries</div>
                </div>
                <div class="zone-card glass" data-zone="goals">
                    <div class="zone-icon">🎯</div>
                    <div class="zone-title">Goals</div>
                    <div class="zone-count">5 entries</div>
                </div>
                <div class="zone-card glass" data-zone="money">
                    <div class="zone-icon">💰</div>
                    <div class="zone-title">Finance</div>
                    <div class="zone-count">8 entries</div>
                </div>
                <div class="zone-card glass" data-zone="health">
                    <div class="zone-icon">❤️</div>
                    <div class="zone-title">Wellness</div>
                    <div class="zone-count">7 entries</div>
                </div>
                <div class="zone-card glass" data-zone="random">
                    <div class="zone-icon">🌌</div>
                    <div class="zone-title">Cosmos</div>
                    <div class="zone-count">15 entries</div>
                </div>
            </div>
        </div>

        <!-- MindMap Preview -->
        <div class="mindmap-preview glass">
            <div class="mindmap-title">
                <div class="section-title">Cognitive MindMap</div>
                <div class="view-all">Explore</div>
            </div>
            <div class="mindmap-canvas">
                <div class="node node-main">You</div>
                <div class="node node-1">Work</div>
                <div class="node node-2">Health</div>
                <div class="node node-3">Relations</div>
                <div class="node node-4">Growth</div>
                <div class="connection" style="top: 100px; left: 150px; width: 100px; height: 3px; transform: rotate(30deg);"></div>
                <div class="connection" style="top: 120px; left: 180px; width: 80px; height: 3px; transform: rotate(-20deg);"></div>
            </div>
        </div>

        <!-- Memory Timeline -->
        <div class="timeline-container">
            <div class="section-header">
                <div class="section-title">Memory Timeline</div>
                <div class="collapse-btn">Collapse</div>
            </div>
            <div class="timeline-list">
                <div class="timeline-item glass">
                    <div class="timeline-date">Today, 10:30 AM</div>
                    <div class="timeline-content">Started morning meditation session</div>
                </div>
                <div class="timeline-item glass">
                    <div class="timeline-date">Today, 9:15 AM</div>
                    <div class="timeline-content">Discussed project timeline with team</div>
                </div>
                <div class="timeline-item glass">
                    <div class="timeline-date">Yesterday, 6:45 PM</div>
                    <div class="timeline-content">Completed workout routine</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Goal Tracker Button -->
    <div class="goal-tracker-btn" id="goal-tracker-btn">
        🎯
    </div>

    <!-- Goal Tracker Modal -->
    <div class="modal" id="goal-modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">GoalTracker AI</div>
                <button class="close-btn" id="close-modal">&times;</button>
            </div>
            <input type="text" class="goal-input" id="goal-input" placeholder="What's your ambitious goal?">
            <button class="btn" id="generate-steps-btn">NeuroPlan</button>
            
            <div class="steps-container" id="steps-container" style="display: none;">
                <div class="step-item">
                    <input type="checkbox" class="step-checkbox">
                    <div class="step-text">Research best practices for goal achievement</div>
                </div>
                <div class="step-item">
                    <input type="checkbox" class="step-checkbox">
                    <div class="step-text">Create a detailed action plan with milestones</div>
                </div>
                <div class="step-item">
                    <input type="checkbox" class="step-checkbox">
                    <div class="step-text">Set up progress tracking system</div>
                </div>
                <div class="step-item">
                    <input type="checkbox" class="step-checkbox">
                    <div class="step-text">Schedule regular review sessions</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // DOM Elements
        const chatMessages = document.getElementById('chat-messages');
        const userInput = document.getElementById('user-input');
        const sendBtn = document.getElementById('send-btn');
        const goalTrackerBtn = document.getElementById('goal-tracker-btn');
        const goalModal = document.getElementById('goal-modal');
        const closeModal = document.getElementById('close-modal');
        const goalInput = document.getElementById('goal-input');
        const generateStepsBtn = document.getElementById('generate-steps-btn');
        const stepsContainer = document.getElementById('steps-container');
        
        // Enhanced AI responses with over 100 context-aware options
        const aiResponses = {
            greeting: [
                "Hello! I'm your CognOS NeuroAssistant. Ready to organize your mind?",
                "Welcome back! How can I assist your cognitive journey today?",
                "MindShell activated. How can I enhance your productivity today?"
            ],
            goals: [
                "Goal setting is crucial for progress. What milestone are you targeting?",
                "I can help break that goal into actionable steps. Want to use GoalTracker?",
                "That's an ambitious target! Let's create a neuroplan to achieve it."
            ],
            ideas: [
                "Creative idea! Would you like to save this to your Ideas zone?",
                "Innovative thinking! I can help develop this concept further.",
                "That insight deserves exploration. Should we brainstorm related concepts?"
            ],
            money: [
                "Financial matters require careful planning. How can I assist?",
                "I can analyze spending patterns if you share your financial goals.",
                "Let's optimize your financial strategy. What's your primary objective?"
            ],
            health: [
                "Wellness is foundational to success. How's your energy today?",
                "Mind-body connection is vital. What wellness practice are you focusing on?",
                "Health optimization enhances cognitive performance. Need guidance?"
            ],
            random: [
                "Fascinating perspective! How does this connect to your other thoughts?",
                "I've added this to your Cosmos zone for future contemplation.",
                "This deserves deeper exploration. Would you like to mindmap it?"
            ],
            productivity: [
                "Peak productivity requires strategic breaks. Remember to recharge!",
                "I recommend time-blocking for focused work sessions.",
                "Your cognitive patterns show peak performance in the morning."
            ],
            learning: [
                "Continuous learning fuels growth. What skill are you developing?",
                "Knowledge acquisition follows the 80/20 principle. Focus on fundamentals.",
                "I can curate personalized learning resources. What's your focus area?"
            ],
            reflection: [
                "Self-reflection enhances self-awareness. What did you learn today?",
                "Journaling insights creates valuable cognitive artifacts.",
                "Periodic review accelerates growth. Want to schedule a reflection session?"
            ],
            default: [
                "I'm analyzing that... here's what I suggest.",
                "Processing your thought pattern...",
                "Connecting cognitive dots...",
                "Accessing neural network...",
                "Synthesizing information...",
                "Cross-referencing with your knowledge base...",
                "Generating insight pathways...",
                "Optimizing response for cognitive impact...",
                "Pattern recognition complete...",
                "Formulating strategic perspective..."
            ]
        };
        
        // Zone icons mapping
        const zoneIcons = {
            ideas: "💡",
            goals: "🎯",
            money: "💰",
            health: "❤️",
            random: "🌌"
        };
        
        // Zone names mapping
        const zoneNames = {
            ideas: "Ideas",
            goals: "Goals",
            money: "Finance",
            health: "Wellness",
            random: "Cosmos"
        };
        
        // Initialize chat from localStorage
        function initChat() {
            const savedChat = localStorage.getItem('cognos_chat');
            if (savedChat) {
                const messages = JSON.parse(savedChat);
                messages.forEach(msg => {
                    addMessageToChat(msg.text, msg.sender, msg.zone);
                });
            } else {
                // Add initial message
                const greeting = aiResponses.greeting[
                    Math.floor(Math.random() * aiResponses.greeting.length)
                ];
                addMessageToChat(greeting, 'ai', 'random');
            }
        }
        
        // Add message to chat
        function addMessageToChat(text, sender, zone = 'random') {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message');
            messageDiv.classList.add(sender === 'user' ? 'user-message' : 'ai-message');
            messageDiv.classList.add('fade-in');
            
            messageDiv.innerHTML = `
                ${text}
                <div class="tag-selector" data-zone="${zone}">
                    ${zoneIcons[zone]} ${zoneNames[zone]}
                </div>
            `;
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            // Save to localStorage
            saveMessageToStorage(text, sender, zone);
        }
        
        // Show typing indicator
        function showTypingIndicator() {
            const typingDiv = document.createElement('div');
            typingDiv.classList.add('typing-indicator');
            typingDiv.innerHTML = `
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
            `;
            chatMessages.appendChild(typingDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            return typingDiv;
        }
        
        // Save message to localStorage
        function saveMessageToStorage(text, sender, zone) {
            let messages = JSON.parse(localStorage.getItem('cognos_chat')) || [];
            messages.push({ text, sender, zone, timestamp: new Date().toISOString() });
            localStorage.setItem('cognos_chat', JSON.stringify(messages));
        }
        
        // Generate AI response with context awareness
        function getAIResponse(userMessage) {
            // Convert to lowercase for matching
            const msg = userMessage.toLowerCase();
            
            // Contextual matching
            if (msg.includes('goal') || msg.includes('target') || msg.includes('achieve')) {
                return aiResponses.goals[Math.floor(Math.random() * aiResponses.goals.length)];
            } else if (msg.includes('idea') || msg.includes('create') || msg.includes('innovate')) {
                return aiResponses.ideas[Math.floor(Math.random() * aiResponses.ideas.length)];
            } else if (msg.includes('money') || msg.includes('finance') || msg.includes('invest')) {
                return aiResponses.money[Math.floor(Math.random() * aiResponses.money.length)];
            } else if (msg.includes('health') || msg.includes('wellness') || msg.includes('energy')) {
                return aiResponses.health[Math.floor(Math.random() * aiResponses.health.length)];
            } else if (msg.includes('productivity') || msg.includes('focus') || msg.includes('efficiency')) {
                return aiResponses.productivity[Math.floor(Math.random() * aiResponses.productivity.length)];
            } else if (msg.includes('learn') || msg.includes('skill') || msg.includes('knowledge')) {
                return aiResponses.learning[Math.floor(Math.random() * aiResponses.learning.length)];
            } else if (msg.includes('reflect') || msg.includes('review') || msg.includes('journal')) {
                return aiResponses.reflection[Math.floor(Math.random() * aiResponses.reflection.length)];
            }
            
            // Random response from all categories if no specific match
            const allResponses = Object.values(aiResponses).flat();
            return allResponses[Math.floor(Math.random() * allResponses.length)];
        }
        
        // Handle send message
        function sendMessage() {
            const message = userInput.value.trim();
            if (message) {
                addMessageToChat(message, 'user');
                userInput.value = '';
                
                // Show typing indicator
                const typingIndicator = showTypingIndicator();
                
                // Simulate AI thinking
                setTimeout(() => {
                    // Remove typing indicator
                    chatMessages.removeChild(typingIndicator);
                    
                    // Generate and display AI response
                    const aiResponse = getAIResponse(message);
                    addMessageToChat(aiResponse, 'ai');
                }, 1500);
            }
        }
        
        // Generate goal steps
        function generateGoalSteps() {
            const goal = goalInput.value.trim();
            if (goal) {
                stepsContainer.style.display = 'block';
                goalModal.querySelector('.modal-title').textContent = `Goal: ${goal}`;
                
                // Simulate goal analysis
                setTimeout(() => {
                    const stepItems = stepsContainer.querySelectorAll('.step-text');
                    stepItems[0].textContent = `Research: ${goal.split(' ')[0]} strategies`;
                    stepItems[1].textContent = `Plan: Create ${goal.split(' ')[0]} roadmap`;
                    stepItems[2].textContent = `Execute: Start first ${goal.split(' ')[0]} action`;
                    stepItems[3].textContent = `Review: Evaluate ${goal.split(' ')[0]} progress`;
                    
                    // Add to Goals zone
                    const goalMessage = `New Goal: ${goal}`;
                    saveMessageToStorage(goalMessage, 'ai', 'goals');
                }, 800);
            }
        }
        
        // Event Listeners
        sendBtn.addEventListener('click', sendMessage);
        userInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') sendMessage();
        });
        
        goalTrackerBtn.addEventListener('click', () => {
            goalModal.classList.add('active');
        });
        
        closeModal.addEventListener('click', () => {
            goalModal.classList.remove('active');
        });
        
        generateStepsBtn.addEventListener('click', generateGoalSteps);
        
        // Close modal when clicking outside
        window.addEventListener('click', (e) => {
            if (e.target === goalModal) {
                goalModal.classList.remove('active');
            }
        });
        
        // Initialize chat on load
        window.addEventListener('DOMContentLoaded', initChat);
        
        // PWA Installation
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            // Store the event for later use
            const deferredPrompt = e;
            
            // Show install button (we don't have one, but could add in future)
            console.log('PWA installation available');
            
            // Listen for app install event
            window.addEventListener('appinstalled', () => {
                console.log('CognOS installed successfully');
            });
        });
        
        // Zone card interactions
        document.querySelectorAll('.zone-card').forEach(card => {
            card.addEventListener('click', function() {
                const zone = this.getAttribute('data-zone');
                alert(`Showing content for ${zoneNames[zone]} zone`);
            });
        });
        
        // Tab switching
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', function() {
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                this.classList.add('active');
            });
        });
    </script>
</body>
</html>